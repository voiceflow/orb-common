parameters:
  executor:
    description: Executor to run the command on
    type: executor
    default: node-executor-node-20
  command:
    description: Script to lint files
    type: string
    default: yarn lint:report
executor: << parameters.executor >>
steps:
  - checkout_clone
  - attach_workspace:
      at: ~/voiceflow
  - turborepo_install
  - turborepo_restore_cache:
      prefix: eslint-cache
  - run:
      command: << parameters.command >>
  - turborepo_save_cache:
      prefix: eslint-cache
      path: ./.eslintcache
  - store_test_results:
      path: ./reports/lint.report.xml
  - store_artifacts:
      path: ./reports/lint.report.xml
