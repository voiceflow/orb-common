parameters:
  executor:
    description: Executor to use
    type: executor
    default: go-executor
executor: "<< parameters.executor >>"
steps:
  - checkout
  - run:
      name: Install CDK
      command: sudo npm install -g aws-cdk
  - run:
      environment:
        GOPRIVATE: github.com/voiceflow
      name: CDK Deploy
      command: <<include(scripts/cdk/deploy.sh)>>
