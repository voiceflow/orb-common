parameters:
  step_name:
    description: Name of the step
    type: string
    default: Clone S3 assets
  from:
    description: S3 URL
    type: string
  to:
    description: Path to clone S3 assets
    type: string
  clean_destination:
    description: Clean destination
    type: boolean
    default: false
steps:
  - run:
      name: << parameters.step_name >>
      command: |
        clean=<< parameters.clean_destination >>
        from="<< parameters.from >>"
        to="<< parameters.to >>"

        if [[ $clean ]]; then
          aws s3 sync $from $to --delete
        else
          aws s3 sync $from $to
        fi
