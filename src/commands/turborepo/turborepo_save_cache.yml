parameters:
  prefix:
    description: Cache prefix
    type: string
  path:
    description: Cached path
    type: string
    default: ./.turbo
steps:
  - save_cache:
      name: Saving turborepo << parameters.prefix >> build cache
      key: << parameters.prefix >>-{{ .Environment.CACHE_VERSION }}-{{ .Branch }}-{{ .Revision }}--{{ checksum "/tmp/hashfiles/<< parameters.prefix >>.hashfile.json" }}
      paths:
        - << parameters.path >>
