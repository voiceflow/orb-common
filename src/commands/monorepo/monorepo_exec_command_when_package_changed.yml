description: execute commands
parameters:
  command:
    description: command to execute
    type: string
  extra_parameters:
    description: command to execute
    type: string
    default: ""
  step_name:
    description: Description to run
    type: string
  package_to_force_execution:
    description: Package to force execution
    type: string
  run_on_root:
    description: Check that allow the command to run on root
    type: boolean
    default: false
  force_execution:
    description: Force execution of the command on all packages
    type: boolean
    default: false
steps:
  - run:
      name: << parameters.step_name >>
      environment:
        RUN_ON_ROOT: << parameters.run_on_root >>
        PACKAGE_FORCED: << parameters.package_to_force_execution >>
        FORCE_EXECUTION: << parameters.force_execution >>
        COMMAND: << parameters.command >>
        EXTRA_ARGS: << parameters.extra_parameters >>
      command: <<include(scripts/monorepo/exec-on-change.sh)>>
